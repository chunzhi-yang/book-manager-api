<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.gzhu.bm.repo.BmMenuMapper" >
  <resultMap id="BaseResultMap" type="com.gzhu.bm.entity.BmMenu" >
    <!--
      WARNING - @mbggenerated
    -->
    <id column="bm_menu_id" property="bmMenuId" jdbcType="BIGINT" />
    <result column="menu_code" property="menuCode" jdbcType="VARCHAR" />
    <result column="url" property="url" jdbcType="VARCHAR" />
    <result column="logistic_url" property="logisticUrl" jdbcType="VARCHAR" />
    <result column="status" property="status" jdbcType="TINYINT" />
    <result column="menu_name" property="menuName" jdbcType="VARCHAR" />
    <result column="is_under_control" property="isUnderControl" jdbcType="TINYINT" />
    <result column="menu_type" property="menuType" jdbcType="TINYINT" />
    <result column="role_code" property="roleCode" jdbcType="VARCHAR"/>
  </resultMap>
  <sql id="Base_Columns">
  	`bm_menu_id`,
  	`menu_code`,
  	`url`,
  	`logistic_url`,
  	`status`,
  	`menu_name`,
  	`is_under_control`,
  	`menu_type`,
  	`role_code`
  </sql>
  <sql id="queryParams">
  	<where>
  		1=1
  	  <if test="record.bmMenuId != null">
  	  	and bm_menu_id = #{record.bmMenuId,jdbcType=BIGINT}
  	  </if>
  	  <if test="record.menuCode != null">
  	  	and menu_code = #{record.menuCode,jdbcType=VARCHAR}
  	  </if>
  	  <if test="record.url != null">
  	  	and url = #{record.url,jdbcType=VARCHAR}
  	  </if>
  	  <if test="record.logisticUrl != null">
  	  	and logistic_url = #{record.logisticUrl,jdbcType=VARCHAR}
  	  </if>
  	  <if test="record.status != null">
  	  	and status = #{record.status,jdbcType=TINYINT}
  	  </if>
  	  <if test="record.menuName != null">
  	  	and menu_name = #{record.menuName,jdbcType=VARCHAR}
  	  </if>
  	  <if test="record.bmMenuId != null">
  	  	and is_under_control = #{record.isUnderControl,jdbcType=TINYINT}
  	  </if>
  	  <if test="record.menuType != null">
  	  	and menu_type = #{record.menuType,jdbcType=TINYINT}
  	  </if>
  	  <if test="record.roleCode != null">
  	  	and role_code = #{record.roleCode,jdbcType=VARCHAR}
  	  </if>
  	</where>
  </sql>
  <select id="selectCount" resultType="java.lang.Integer">
  	select count(1) from bm_menu
  	<include refid="queryParams"></include>
  </select>
  <select id="selectPage" resultMap="BaseResultMap">
  	select <include refid="Base_Columns"></include> from bm_menu
  	<include refid="queryParams"></include>
  	limit ${page.pageSize*(page.page -1)},${page.pageSize}
  </select>
   <select id="selectByRoleCode" resultMap="BaseResultMap" >
  	select <include refid="Base_Columns"></include> from bm_menu
  	where role_code=#{roleCode}
  </select>
</mapper>